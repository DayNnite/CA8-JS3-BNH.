<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Sam G" />
  <link rel="stylesheet" href="../css/style.css">

  <title>Bear Ninja Hunter</title>
    
</head>
<body>
  <h1>Bear Ninja Hunter</h1>
<div id= "results" class="card"> 
  <!-- Where we will display the player's message -->
  <p id="playerLine"></p>
  <!-- Where we will display the computer's message -->
  <p id="computerLine"></p>
  <!-- Suggestion: add a result line to show who won -->
  <p id="resultLine"></p>
 </div>
  <!-- This is javascipt -->
  <script>
    

  const choices ["bear", "ninja","hunter"];
  let playerName = "";
  let playerChoice = "";
  let computerChoice = "";
  let playAgain = "";
  let roundLog = ""; // for final recap

  playerName = prompt("Welcome to Bear Hunter Ninja! Please enter your name to get started:");
  if (playerName === null) {
    alert("Game cancelled. Reload the page to play.");
    document.getElementById("results").textContent = "Game cancelled.";
  } else {
    playerName = playerName.trim();
    if (playerName.length === 0) playerName = "Player";
    alert (`Hello, ${playerName}!`);

      do {
      let raw = prompt(`${playerName}, choose: Bear, Ninja, or Hunter`);
      if (raw === null) {
        alert("Game cancelled by user.\nAccepted inputs: Bear, Ninja, Hunter.");
        break;
      }
      playerChoice = raw.trim().toLowerCase();

      // Validate
      if (playerChoice !== "bear" && playerChoice !== "ninja" && playerChoice !== "hunter") {
        alert("Invalid input. Please type exactly: Bear, Ninja, or Hunter.");
        continue; // ask again
      }

      const idx = Math.floor(Math.random() * choices.length);
      computerChoice = choices[idx]; // already lowercase

      let resultMessage = "";
      if (playerChoice === computerChoice) {
        resultMessage = "It's a tie.";
      } else if (
        (playerChoice === "bear"   && computerChoice === "ninja") ||
        (playerChoice === "ninja"  && computerChoice === "hunter") ||
        (playerChoice === "hunter" && computerChoice === "bear")
      ) {
        resultMessage = `${playerName} wins!`;
      } else {
        resultMessage = "Computer wins!";
      }

      const roundMsg =
        `You chose: ${playerChoice}\n` +
        `Computer chose: ${computerChoice}\n` +
        `${resultMessage}`;
      alert(roundMsg);
      console.log("[BNH] " + roundMsg);

      document.getElementById("playerLine").textContent   = `${playerName}, You picked ${playerChoice}!`;
      document.getElementById("computerLine").textContent = `The computer picked ${computerChoice}!`;
      document.getElementById("resultLine").textContent   = resultMessage;

      roundLog += `${playerName}: ${playerChoice} | Computer: ${computerChoice} â†’ ${resultMessage}\n`;

      playAgain = prompt("Play again? (y/n)");
      if (playAgain === null) break;
      playAgain = playAgain.trim().toLowerCase();

    } while (playAgain === "y" || playAgain === "yes");

        const summary = `Game over, ${playerName}.\n\n` + roundLog.trim();
    document.getElementById("results").textContent = summary;
    alert(summary);
  } // end name-else
</script>

</body>
</html>

